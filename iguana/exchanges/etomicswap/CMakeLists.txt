cmake_minimum_required(VERSION 3.5.1)
add_library(etomiclib-testnet STATIC etomiclib.cpp etomiccurl.c)
add_library(etomiclib-mainnet STATIC etomiclib.cpp etomiccurl.c)
set_target_properties(etomiclib-testnet PROPERTIES POSITION_INDEPENDENT_CODE ON)
set_target_properties(etomiclib-mainnet PROPERTIES POSITION_INDEPENDENT_CODE ON)
target_compile_definitions(etomiclib-testnet PRIVATE ETOMIC_TESTNET)
if(WIN32)
add_definitions(-DNATIVE_WINDOWS)
add_definitions(-DIGUANA_LOG2PACKETSIZE=20)
add_definitions(-DIGUANA_MAXPACKETSIZE=1572864)
add_definitions(-D_CRT_SECURE_NO_WARNINGS)
add_definitions(-DNOMINMAX)
include_directories("${CMAKE_SOURCE_DIR}/includes")
endif()
target_link_libraries(etomiclib-testnet PUBLIC curl libcrypto777 pthread)
target_link_libraries(etomiclib-mainnet PUBLIC curl libcrypto777 pthread)
